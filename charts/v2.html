<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://code.jscharting.com/latest/jscharting.js"></script>
</head>

<body>
    <div id="chartDiv" style="width: 740px;height: 500px;margin: 0px auto">
    </div>
    <script>
        // JS 
        var chart;

        //JSC.fetch('https://aaaimx-admin.herokuapp.com/api/members/panel/')
        //    .then(function (response) {
        //        return response.json();
        //    })
        //    .then(function (data) {
        //        console.log(data);
        //        chart = renderChart(makeSeries(data));
        //    });

        var data = [
            {
                id: 50,
                name: 'Vicente',
                surname: 'Yah-Dzul',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: '',
                charge: 'Applied Maths Division Member',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    5
                ],
                roles: [
                    1
                ]
            },
            {
                id: 19,
                name: 'Raul Armin',
                surname: 'Novelo-Cruz',
                email: 'rnovelo.cruz98@gmail.com',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'thumbnail/raul-novelo.jpeg',
                charge: 'President / Software Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    1
                ],
                roles: [
                    1,
                    5
                ]
            },
            {
                id: 95,
                name: 'Raul',
                surname: 'Gongora',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: '',
                charge: '',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    9
                ],
                roles: []
            },
            {
                id: 49,
                name: 'Paul',
                surname: 'Mena-Zapata',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'thumbnail/paul-mena.jpg',
                charge: 'Operations Leader / Advisor',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    3
                ],
                roles: [
                    1
                ]
            },
            {
                id: 34,
                name: 'Mauricio Gabriel',
                surname: 'Orozco-del-Castillo',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/dr-mauricio-orozco.jpg',
                charge: 'Chair / ITM Researcher',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [],
                roles: [
                    2,
                    3
                ]
            },
            {
                id: 39,
                name: 'Juan Carlos',
                surname: 'Valdiviezo-Navarro',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/dr-juan-carlos.jpg',
                charge: 'Co-Chair / CentroGeo Researcher',
                adscription: '3b8817e5-1df2-44ab-a1db-1b255b3a8fb4',
                divisions: [],
                roles: [
                    3
                ]
            },
            {
                id: 51,
                name: 'Juan Antonio',
                surname: 'Recio-García',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/juan-garcia.jpg',
                charge: 'Member / SE and AI Head of Department, UCM, España',
                adscription: 'aea6bcca-5c27-406e-83ee-8684bdaebf7b',
                divisions: [],
                roles: [
                    3
                ]
            },
            {
                id: 11,
                name: 'Jorge Javier',
                surname: 'Hernández-Gómez',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/jorge-hernandez.jpeg',
                charge: 'Member / Senior Researcher, IPN-CDA, México',
                adscription: '52f2a630-893c-4f69-b243-d5eaa75d27c9',
                divisions: [],
                roles: [
                    3
                ]
            },
            {
                id: 24,
                name: 'Joel Antonio',
                surname: 'Trejo-Sánchez',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/dr-joel-trejo.jpg',
                charge: 'Secretary / CIMAT Researcher',
                adscription: 'ad9ad059-d6ea-4015-b3ab-0cb949e87e92',
                divisions: [],
                roles: [
                    3
                ]
            },
            {
                id: 43,
                name: 'Humberto',
                surname: 'Cordova',
                email: 'humberto11.cordova@gmail.com',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'thumbnail/default-avatar.jpg',
                charge: 'Vice-president / Bioengineering Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    9
                ],
                roles: [
                    1,
                    5
                ]
            },
            {
                id: 47,
                name: 'Humberto',
                surname: 'Sarabia',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'thumbnail/humberto-sarabia.jpg',
                charge: 'Robotics Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    4
                ],
                roles: [
                    1
                ]
            },
            {
                id: 46,
                name: 'Fernando',
                surname: 'Herrera-Garnica',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: '/img/people/fernando.jpg',
                charge: 'Applied Maths Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    5
                ],
                roles: [
                    1
                ]
            },
            {
                id: 45,
                name: 'Esteban Emmanuel',
                surname: 'Brito-Borges',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'esteban-brito.jpg',
                charge: 'Machine Learning Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    2
                ],
                roles: [
                    1
                ]
            },
            {
                id: 55,
                name: 'Didier Jesús',
                surname: 'Crespo-Castilla',
                email: 'LE18081079@itmerida.edu.mx',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'diddier.jpg',
                charge: 'Social Impact Leader',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    6
                ],
                roles: []
            },
            {
                id: 7,
                name: 'Carlos',
                surname: 'Ortiz-Alemán',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/Carlos_Ortiz-Alemán.jfif',
                charge: 'Member / Director, Litoteca Nacional de Hidrocarburos, México',
                adscription: '9036b749-5c6d-4f47-aaba-fbd810010f11',
                divisions: [],
                roles: [
                    3
                ]
            },
            {
                id: 54,
                name: 'Alejandro Arturo',
                surname: 'Castillo-Atoche',
                email: '',
                active: true,
                board: true,
                committee: false,
                thumbnailFile: 'thumbnail/Alejandro_Castillo-Atoche.jfif',
                charge: 'Member / Senior Researcher, UADY/TecNM-ITM, México',
                adscription: '41323d3e-cacc-437c-9d40-dec1c39078c3',
                divisions: [],
                roles: []
            },
            {
                id: 36,
                name: 'Adolfo',
                surname: 'Alvarez-Pacheco',
                email: '',
                active: true,
                board: false,
                committee: true,
                thumbnailFile: 'thumbnail/adolfo-alvarez_seH7XkX.jpg',
                charge: 'Advisor',
                adscription: '8862a10a-9e86-43db-b513-d6101cca2e33',
                divisions: [
                    1
                ],
                roles: [
                    1
                ]
            }
        ];
        chart = renderChart(makeSeries(data));
        function renderChart(series) {
            return JSC.chart('chartDiv', {
                type: 'organization right',
                defaultSeries: {
                    line: { width: 1, color: '#e0e0e0' }
                },
                defaultPoint: {
                    focusGlow_width: 0,
                    tooltip:
                        'Phone: <b>%phone</b><br>Email: <b>%email</b><br>Address: <b>%address</b>',
                    annotation: {
                        label: {
                            text:
                                '<b>%position</b><br/>%name<br><img margin_left=-58 margin_top=-39.5 width=50 height=50 src=%photo>',
                            autoWrap: false,
                            color: 'slategray',
                            style: {
                                fontWeight: 'normal',
                                fontSize: 10
                            },
                            margin_left: 50
                        },
                        padding: [4, 14, 4, 0],
                        corners: 'round',
                        height: 52,
                        radius: 33,
                        margin: [2, 15, 2, 0]
                    },
                    outline_color: '#e0e0e0',
                    color: 'white'
                },
                series: series
            });
        }

        function makeSeries(data) {
            return [
                {
                    points: JSC.nest()
                        .key('name')
                        .pointRollup(function (key, val) {
                            return {
                                name: key,
                                id: val[0].id,
                                parent: val[0].parent,
                                attributes: {
                                    position: val[0].charge,
                                    phone: val[0].phone,
                                    address: val[0].address,
                                    email: val[0].email,
                                    photo:
                                        'https://www.aaaimx.org/img/' +
                                        val[0].thumbnailFile.replace('thumbnail', 'people')
                                }
                            };
                        })
                        .points(data)
                }
            ];
        } 
    </script>

</body>

</html>